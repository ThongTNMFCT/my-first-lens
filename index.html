<!DOCTYPE html>
<html lang="vi" class="dark scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thong Tran | Visual Storyteller</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts: Cormorant Garamond (Serif sang trọng) & Montserrat (Sans hiện đại) -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500;1,600&family=Montserrat:wght@200;300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                        serif: ['Cormorant Garamond', 'serif'],
                    },
                    colors: {
                        darkBg: '#050505', // Đen sâu hơn
                        lightBg: '#f8f8f8', // Trắng ngà nhẹ
                        accent: '#d4af37', // Vàng cổ điển (Metallic Gold)
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'zoom-out': 'zoomOut 1.5s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(40px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        zoomOut: {
                            '0%': { transform: 'scale(1.1)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .glass-nav {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .text-stroke {
            -webkit-text-stroke: 1px rgba(255,255,255,0.2);
            color: transparent;
        }
        .dark .text-stroke {
            -webkit-text-stroke: 1px rgba(255,255,255,0.1);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }
        
        /* Shimmer */
        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.03), transparent);
            background-size: 200% 100%;
            animation: shimmer 2s infinite linear;
        }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
    </style>
</head>
<body class="bg-lightBg dark:bg-darkBg text-zinc-900 dark:text-zinc-200 antialiased transition-colors duration-700">

    <!-- Navigation -->
    <nav id="navbar" class="fixed top-0 left-0 w-full z-50 px-8 py-6 transition-all duration-500">
        <div class="max-w-screen-2xl mx-auto flex justify-between items-center">
            <a href="index.html" class="font-serif text-3xl font-medium tracking-tight hover:text-accent transition-colors relative z-50">
                Thong Tran<span class="text-accent">.</span>
            </a>

            <div class="hidden md:flex items-center gap-16 text-[11px] font-medium uppercase tracking-[0.2em]">
                <a href="collection.html" class="hover:text-accent transition-colors relative group py-2" data-i18n="nav_collection">
                    Bộ Sưu Tập
                    <span class="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-[1px] bg-accent transition-all duration-500 group-hover:w-full"></span>
                </a>
                <a href="about-me.html" class="hover:text-accent transition-colors relative group py-2" data-i18n="nav_about">
                    Góc Nhìn
                    <span class="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-[1px] bg-accent transition-all duration-500 group-hover:w-full"></span>
                </a>
            </div>

            <div class="flex items-center gap-8 relative z-50">
                <!-- Lang Toggle -->
                <div class="hidden sm:flex items-center gap-3 text-[10px] font-bold tracking-widest">
                    <button onclick="setLanguage('vi')" id="btn-vi" class="opacity-40 hover:opacity-100 transition-opacity">VN</button>
                    <span class="opacity-20 text-xs font-light">/</span>
                    <button onclick="setLanguage('en')" id="btn-en" class="opacity-40 hover:opacity-100 transition-opacity">EN</button>
                </div>
                
                <!-- Theme Toggle -->
                <button id="theme-toggle" class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-zinc-200 dark:hover:bg-white/10 transition-all">
                    <i class="fas fa-moon dark:hidden text-xs"></i> 
                    <i class="fas fa-sun hidden dark:block text-xs text-accent"></i>
                </button>

                <a href="admin.html" class="text-zinc-400 hover:text-accent transition-colors">
                    <i class="fas fa-grip-lines text-sm"></i>
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative h-screen w-full overflow-hidden flex items-center justify-center">
        <!-- Background Image with Overlay -->
        <div class="absolute inset-0 z-0">
            <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-darkBg z-10"></div>
            <img src="https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?q=80&w=2574&auto=format&fit=crop" 
                 class="w-full h-full object-cover animate-zoom-out opacity-0" alt="Cinematic Landscape">
        </div>

        <!-- Content -->
        <div class="relative z-20 text-center px-6 mix-blend-overlay-normal">
            <p class="text-accent text-[10px] md:text-xs font-bold uppercase tracking-[0.4em] mb-6 opacity-0 animate-fade-in-up" style="animation-delay: 0.3s;" data-i18n="hero_subtitle">
                Visual Storyteller
            </p>
            <h1 class="font-serif text-6xl md:text-8xl lg:text-9xl font-light italic leading-none text-white opacity-0 animate-fade-in-up" style="animation-delay: 0.5s;">
                My First <br class="md:hidden"> <span class="not-italic font-normal">Lens</span>
            </h1>
            
            <div class="mt-12 flex flex-col items-center gap-6 opacity-0 animate-fade-in-up" style="animation-delay: 0.9s;">
                <div class="h-16 w-[1px] bg-gradient-to-b from-transparent via-accent to-transparent"></div>
                <a href="#work" class="text-white text-[10px] uppercase tracking-[0.3em] hover:text-accent hover:tracking-[0.4em] transition-all duration-500" data-i18n="btn_explore">
                    Khám phá
                </a>
            </div>
        </div>
        
        <!-- Floating Elements -->
        <div class="absolute bottom-10 left-10 hidden md:block z-20 opacity-0 animate-fade-in-up" style="animation-delay: 1.2s;">
            <p class="text-[9px] text-white/50 uppercase tracking-widest font-light">Est. 2026</p>
        </div>
        <div class="absolute bottom-10 right-10 hidden md:block z-20 opacity-0 animate-fade-in-up" style="animation-delay: 1.4s;">
            <p class="text-[9px] text-white/50 uppercase tracking-widest font-light">Cần Thơ, Vietnam</p>
        </div>
    </header>

    <!-- Introduction (Typography Driven) -->
    <section id="work" class="py-32 px-6 md:px-20 max-w-screen-xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
            <div class="space-y-8">
                <h2 class="font-serif text-4xl md:text-5xl leading-tight" data-i18n="intro_title">
                    Gói ghém những điều <br> 
                    <span class="italic text-zinc-400">thoáng qua.</span>
                </h2>
                <div class="w-12 h-[1px] bg-accent"></div>
                <p class="text-sm font-light leading-relaxed text-zinc-500 dark:text-zinc-400 text-justify" data-i18n="quote_text">
                    Nhiếp ảnh với mình không chỉ là kỹ thuật, mà là cách để lưu giữ sự thuần khiết của ánh sáng và cảm xúc tại một thời điểm duy nhất. Mỗi bức hình là một chương trong cuốn nhật ký thị giác.
                </p>
                <a href="about-me.html" class="inline-flex items-center gap-3 text-[10px] uppercase font-bold tracking-widest hover:text-accent transition-colors group">
                    <span data-i18n="nav_about">Tìm hiểu thêm</span>
                    <i class="fas fa-arrow-right transform group-hover:translate-x-1 transition-transform"></i>
                </a>
            </div>
            <!-- Decorative Image -->
            <div class="relative pl-8 pt-8 md:pl-16 md:pt-16">
                <div class="absolute top-0 left-0 w-full h-full border border-zinc-200 dark:border-zinc-800 z-0"></div>
                <div class="relative z-10 aspect-[4/5] overflow-hidden bg-zinc-100 dark:bg-zinc-800">
                    <img src="https://images.unsplash.com/photo-1542038784456-1ea8e935640e?q=80&w=2070&auto=format&fit=crop" 
                         class="w-full h-full object-cover hover:scale-105 transition-transform duration-[1.5s]" alt="Camera Detail">
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Collections (Asymmetrical Grid) -->
    <section class="py-20 px-6 md:px-12 max-w-screen-2xl mx-auto">
        <div class="flex justify-between items-end mb-16 px-4">
            <span class="text-accent text-[10px] font-bold uppercase tracking-widest" data-i18n="featured_tag">Tác phẩm nổi bật</span>
            <a href="collection.html" class="hidden md:block text-[10px] uppercase font-bold tracking-widest hover:text-accent transition-colors" data-i18n="link_view_collections">Xem tất cả</a>
        </div>

        <div id="featured-albums-container" class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-20">
            <!-- Loading State -->
            <div class="aspect-[3/4] bg-zinc-100 dark:bg-zinc-900 shimmer"></div>
            <div class="aspect-[3/4] bg-zinc-100 dark:bg-zinc-900 shimmer md:mt-24"></div>
        </div>
        
        <div class="mt-12 text-center md:hidden">
            <a href="collection.html" class="text-[10px] uppercase font-bold tracking-widest hover:text-accent transition-colors" data-i18n="link_view_collections">Xem tất cả</a>
        </div>
    </section>

    <!-- Marquee Banner -->
    <section class="w-full py-32 overflow-hidden bg-zinc-100 dark:bg-zinc-900/30 border-y border-zinc-200 dark:border-white/5">
        <div class="flex whitespace-nowrap animate-[marquee_40s_linear_infinite] opacity-10 dark:opacity-20 hover:opacity-40 transition-opacity duration-500 cursor-default select-none">
            <span class="text-[12vh] font-serif italic px-12 text-stroke">EMOTION</span>
            <span class="text-[12vh] font-serif italic px-12 text-stroke">LIGHT</span>
            <span class="text-[12vh] font-serif italic px-12 text-stroke">SHADOW</span>
            <span class="text-[12vh] font-serif italic px-12 text-stroke">MOMENT</span>
            <span class="text-[12vh] font-serif italic px-12 text-stroke">EMOTION</span>
            <span class="text-[12vh] font-serif italic px-12 text-stroke">LIGHT</span>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-24 px-6 md:px-20 border-t border-zinc-200 dark:border-zinc-800 bg-lightBg dark:bg-darkBg">
        <div class="max-w-screen-2xl mx-auto flex flex-col md:flex-row justify-between items-start gap-12">
            <div class="space-y-6 max-w-md">
                <a href="#" class="font-serif text-4xl font-bold tracking-tighter block">Thong Tran<span class="text-accent">.</span></a>
                <p class="text-xs font-light text-zinc-500 leading-relaxed">
                    Captured with passion. Preserved for eternity. <br>
                    Based in Mekong Delta, Vietnam.
                </p>
                
                <!-- Day Counter Widget -->
                <div class="inline-flex items-center gap-3 px-4 py-2 border border-zinc-200 dark:border-zinc-800 rounded-full bg-white dark:bg-zinc-900/50">
                    <span class="relative flex h-2 w-2">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2 w-2 bg-accent"></span>
                    </span>
                    <p class="text-[9px] uppercase tracking-widest font-bold text-zinc-600 dark:text-zinc-300">
                        <span data-i18n="journey_text">Hành trình</span>: <span id="days-count" class="font-mono text-accent">0</span> <span data-i18n="days_label">Ngày</span>
                    </p>
                </div>
            </div>
            
            <div class="flex flex-col gap-4 text-right">
                <p class="text-[10px] font-bold uppercase tracking-widest text-zinc-400 mb-2">Connect</p>
                <a href="#" class="text-sm font-medium hover:text-accent transition-colors">Instagram</a>
                <a href="#" class="text-sm font-medium hover:text-accent transition-colors">Facebook</a>
                <a href="#" class="text-sm font-medium hover:text-accent transition-colors">Email</a>
            </div>
        </div>
        <div class="mt-20 pt-8 border-t border-zinc-200 dark:border-zinc-800 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] uppercase tracking-widest text-zinc-400">
            <p>&copy; 2026 Thong Tran. All Rights Reserved.</p>
            <p>Designed for My First Lens</p>
        </div>
    </footer>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="config.js"></script>

    <script>
        // --- 1. LANGUAGE LOGIC & DATA ---
        const translations = {
            vi: {
                nav_collection: "Bộ Sưu Tập",
                nav_about: "Góc Nhìn",
                hero_subtitle: "EST. 2026 / Visual Storyteller",
                hero_desc_prefix: "Lưu giữ khoảnh khắc qua",
                btn_explore: "Vào Thư Viện",
                featured_tag: "Tác phẩm nổi bật",
                intro_title: "Gói ghém điều <br><span class='italic text-zinc-400'>thoáng qua.</span>",
                quote_text: "Nhiếp ảnh với mình không chỉ là kỹ thuật, mà là cách để lưu giữ sự thuần khiết của ánh sáng và cảm xúc tại một thời điểm duy nhất. Mỗi bức hình là một chương trong cuốn nhật ký thị giác.",
                link_view_collections: "Xem Bộ Sưu Tập",
                link_view_all: "Xem kho lưu trữ",
                photos_text: "Ảnh",
                journey_text: "Hành trình",
                days_label: "Ngày"
            },
            en: {
                nav_collection: "Collection",
                nav_about: "Perspective",
                hero_subtitle: "EST. 2026 / Visual Storyteller",
                hero_desc_prefix: "Capturing moments through",
                btn_explore: "Enter Gallery",
                featured_tag: "Featured Work",
                intro_title: "Preserving the <br><span class='italic text-zinc-400'>Ephemeral.</span>",
                quote_text: "To me, photography is more than just technique; it's a way to capture the purity of light and emotion at a singular moment. Every image is a chapter in my visual diary.",
                link_view_collections: "View Collections",
                link_view_all: "Browse Full Archive",
                photos_text: "Photos",
                journey_text: "Journaling",
                days_label: "Days"
            }
        };

        function setLanguage(lang) {
            localStorage.setItem('lang', lang);
            const t = translations[lang];
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (t[key]) el.innerHTML = t[key];
            });

            const btnVi = document.getElementById('btn-vi');
            const btnEn = document.getElementById('btn-en');
            if (lang === 'vi') {
                btnVi.classList.replace('opacity-40', 'opacity-100'); btnVi.classList.add('text-accent');
                btnEn.classList.replace('opacity-100', 'opacity-40'); btnEn.classList.remove('text-accent');
            } else {
                btnEn.classList.replace('opacity-40', 'opacity-100'); btnEn.classList.add('text-accent');
                btnVi.classList.replace('opacity-100', 'opacity-40'); btnVi.classList.remove('text-accent');
            }
            if(db) loadFeaturedAlbums();
        }

        // --- 2. JOURNEY COUNTER ---
        function updateDaysCounter() {
            const startDate = new Date('2026-01-01');
            const now = new Date();
            const diffTime = now - startDate;
            let days = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            if (days < 0) days = 0;
            const el = document.getElementById('days-count');
            if(el) el.innerText = days;
        }

        // --- 3. FIREBASE & DYNAMIC CONTENT ---
        if (!firebase.apps.length) firebase.initializeApp(CONFIG.firebase);
        const db = firebase.firestore();

        async function loadFeaturedAlbums() {
            const container = document.getElementById('featured-albums-container');
            const lang = localStorage.getItem('lang') || 'vi';
            const photosLabel = translations[lang].photos_text;

            try {
                const snapshot = await db.collection('albums').orderBy('createdAt', 'desc').limit(2).get();
                if (snapshot.empty) {
                    container.innerHTML = '<p class="text-zinc-500 italic text-sm col-span-full text-center">Archive coming soon.</p>';
                    return;
                }

                let html = '';
                let index = 0;
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const cover = data.coverUrl ? data.coverUrl.replace('/upload/', '/upload/w_1200,f_auto,q_auto/') : 'https://placehold.co/600x800?text=No+Cover';
                    const mtClass = (index === 1) ? 'md:mt-24' : ''; // Staggered layout
                    
                    html += `
                        <a href="view-collection.html?id=${doc.id}" class="group relative block aspect-[3/4] overflow-hidden bg-zinc-100 dark:bg-zinc-900 ${mtClass} animate-fade-in-up">
                            <img src="${cover}" class="w-full h-full object-cover transition-transform duration-[1.5s] ease-out group-hover:scale-105" alt="${data.title}">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 md:opacity-0 md:group-hover:opacity-60 transition-opacity duration-500"></div>
                            
                            <div class="absolute bottom-8 left-8 text-white translate-y-4 md:translate-y-8 md:opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 ease-out">
                                <p class="text-[9px] uppercase tracking-[0.3em] font-bold mb-2 text-accent">0${index + 1}</p>
                                <h3 class="font-serif text-3xl italic leading-none mb-1">${data.title}</h3>
                                <p class="text-[9px] uppercase tracking-widest opacity-80 font-light">${data.photoCount || 0} ${photosLabel}</p>
                            </div>
                        </a>`;
                    index++;
                });
                container.innerHTML = html;
            } catch (e) { console.error(e); }
        }

        // --- 4. INIT & EVENT LISTENERS ---
        document.addEventListener('DOMContentLoaded', () => {
            const currentLang = localStorage.getItem('lang') || 'vi';
            setLanguage(currentLang);
            updateDaysCounter();
            
            const html = document.documentElement;
            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                html.classList.add('dark');
            }
        });

        document.getElementById('theme-toggle').addEventListener('click', () => {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark'); localStorage.setItem('color-theme', 'light');
            } else {
                document.documentElement.classList.add('dark'); localStorage.setItem('color-theme', 'dark');
            }
        });

        // Glass Nav Scroll
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) navbar.classList.add('glass-nav', 'py-4');
            else navbar.classList.remove('glass-nav', 'py-4');
        });
    </script>
</body>
</html>